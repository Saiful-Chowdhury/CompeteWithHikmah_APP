<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Competitions</title>
  <!-- <link rel="stylesheet" href="/css/styles.css"> Link to your CSS file -->
</head>
<body>
 

  <div class="container">
    <h1>Competitions</h1>

    <!-- Filters and Sorting Options -->
    <form action="/competitions" method="GET" class="filters">
      <label for="type">Type:</label>
      <select name="type" id="type">
        <option value="">All</option>
        <option value="Hackathon">Hackathon</option>
        <option value="Programming Contest">Programming Contest</option>
        <option value="Robo Soccer">Robo Soccer</option>
      </select>

      <label for="region">Region:</label>
      <select name="region" id="region">
        <option value="">All</option>
        <option value="Dhaka">Dhaka</option>
        <option value="Chittagong">Chittagong</option>
        <option value="Rajshahi">Rajshahi</option>
        <option value="Barishal">Barishal</option>
        <option value="Rangpur">Rangpur</option>
        <option value="Mymensingh">Mymensingh</option>
        <option value="Khulna">Khulna</option>
      </select>

      <label for="sort">Sort By:</label>
      <select name="sort" id="sort">
        <option value="date">Date (Newest First)</option>
        <option value="title">Title (A-Z)</option>
      </select>

      <button type="submit">Apply Filters</button>
    </form>

    <!-- Competitions List -->
    <div class="competitions-list">
      <% if (competitions.length > 0) { %>
        <% competitions.forEach(competition => { %>
          <div class="competition-card">
            <h2><%= competition.title %></h2>
            <p><strong>Type:</strong> <%= competition.type %></p>
            <p><strong>Date:</strong> <%= new Date(competition.date).toLocaleDateString() %></p>
            <p><strong>Region:</strong> <%= competition.region %></p>
            <p><strong>Institute:</strong> <%= competition.institute %></p>
            <p><strong>Description:</strong> <%= competition.description %></p>
            <img src="<%= competition.imageUrl %>" alt="<%= competition.title %>" class="competition-image">
            <a href="/competitions/<%= competition._id %>" class="view-more">View More</a>
          </div>
        <% }) %>
      <% } else { %>
        <p>No competitions found.</p>
      <% } %>
    </div>
  </div>
  <div class="container">
    <h1>Add New Competition</h1>

    <!-- Form for Adding a Competition -->
    <form action="/competitions/add" method="POST" enctype="multipart/form-data" class="add-competition-form">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" required>

      <label for="date">Date:</label>
      <input type="date" id="date" name="date" required>

      <label for="type">Type:</label>
      <select id="type" name="type" required>
        <option value="Hackathon">Hackathon</option>
        <option value="Programming Contest">Programming Contest</option>
        <option value="Robo Soccer">Robo Soccer</option>
      </select>

      <label for="region">Region:</label>
      <select id="region" name="region" required>
        <option value="Dhaka">Dhaka</option>
        <option value="Chittagong">Chittagong</option>
        <option value="Rajshahi">Rajshahi</option>
        <option value="Barishal">Barishal</option>
        <option value="Rangpur">Rangpur</option>
        <option value="Mymensingh">Mymensingh</option>
        <option value="Khulna">Khulna</option>
      </select>

      <label for="institute">Institute/Organization:</label>
      <input type="text" id="institute" name="institute" required>

      <label for="description">Description:</label>
      <textarea id="description" name="description" rows="4" required></textarea>

      <label for="imageUrl">Image URL:</label>
      <input type="url" id="imageUrl" name="imageUrl" placeholder="Enter image URL">

      <button type="submit" class="submit-button">Add Competition</button>
    </form>
  </div>
  <!-- <%- include('../partials/footer') %> Include Footer -->
</body>
</html>